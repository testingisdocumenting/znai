<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" /> 
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"> 
<title>Znai: Templates</title>
<!--test extension added comment to head-->
<!--test extension added comment to head--><link rel="stylesheet" type="text/css" href="/znai/static/css/katex.min.css">
<link rel="stylesheet" type="text/css" href="/znai/static/main.css">
<link rel="stylesheet" type="text/css" href="/znai/static/css/global-overrides.css">
<link rel="stylesheet" type="text/css" href="/znai/custom.css">
</head>
<link rel="shortcut icon" href="/znai/favicon.png"type="image/ico"/>
<body class="znai-theme theme-znai-dark">
<script>(function() {
    var themeNameKey = 'znaiTheme';
    var darkThemeName = 'znai-dark';
    var lightThemeName = 'default';

    var znaiTheme = {
        changeHandlers: [],
        addChangeHandler(handler) {
            this.changeHandlers.push(handler);
        },
        removeChangeHandler(handler) {
            var idx = this.changeHandlers.indexOf(handler);
            this.changeHandlers.splice(idx, 1);
        },
        set(name) {
            this.name = name;
            document.body.className = 'znai-theme theme-' + name;

            var idx = 0;
            var len = this.changeHandlers.length;
            for (; idx < len; idx++) {
                this.changeHandlers[idx](name);
            }
        },
        setExplicitly(name) {
            storeThemeName(name);
            this.set(name);
        },
        setExplicitlyIfNotSetAlready(name) {
            const themeName = getStoredThemeName();
            if (themeName) {
                return
            }

            this.setExplicitly(name)
        },
        toggle() {
            this.setExplicitly(this.name === lightThemeName ? darkThemeName : lightThemeName)
        }
    };

    var mediaThemeName = setLightMatchMediaListenerAndGetThemeName()
    var themeName = getStoredThemeName() || mediaThemeName;
    znaiTheme.set(themeName);

    window.znaiTheme = znaiTheme;

    function getStoredThemeName() {
        return localStorage.getItem(themeNameKey);
    }

    function storeThemeName(name) {
        return localStorage.setItem(themeNameKey, name);
    }

    function setLightMatchMediaListenerAndGetThemeName() {
        if (!window.matchMedia) {
            return darkThemeName;
        }

        var lightQuery = window.matchMedia('(prefers-color-scheme: light)');
        lightQuery.addListener(function (e) {
            const newThemeName = e.matches ? lightThemeName : darkThemeName;
            znaiTheme.setExplicitly(newThemeName);
        });

        return lightQuery.matches ? lightThemeName : darkThemeName;
    }
})()</script>
<div id="znai"><div id="znai-initial-page-loading" style="margin: -20px 0 0 -20px; padding: 0 40px 40px 0; width: 100vw; height: 100vh; display: flex; justify-content: center; align-items: center">
    <div></div>
</div><section id="page-content" style="max-width: 640px; margin-left: auto; margin-right: auto;">
<article>
<header><h1>Re-usable patterns</h1></header>
<p>Let s consider a chat REST API example where we want to display a sample input example code snippet and sample output Here how documentation may look like Use to send a new message http post messages message Hello all id should mid1 This is the source to render the layout above Note request and response were automatically captured using WebTau testing framework We need to document other methods as well and as you can imagine the repetition will take place include groovy org testingisdocumenting testing examples restapi WebTauRestAPIGroovyTest groovy title POST messages entry postMessages bodyOnly true excludeRegexp http doc ```columns left include json chat post messages request json title POST messages request right include json chat post messages response json title POST messages response highlightValueFile chat post messages paths json ```</p>
</article>

<article>
<header><h1>Extract A Pattern</h1></header>
<p>Let s move a block we plan to repeat into a separate file and replace hardcoding of entries like post with placeholders Znai uses the FreeMarker template engine include groovy org testingisdocumenting testing examples restapi WebTauRestAPIGroovyTest groovy title $ method upper_case messages entry $ method Messages bodyOnly true excludeRegexp http doc ```columns left include json chat $ method messages request json title $ method upper_case messages request right include json chat $ method messages response json title $ method upper_case messages response highlightValueFile chat post messages paths json ```</p>
</article>

<article>
<header><h1>Use A Pattern</h1></header>
<p>http post messages mid1 message Hello all status should SUCCESS include template templates messages http call md method put</p>
</article>
</section>
<section id="table-of-contents" style="max-width: 640px; margin-left: auto; margin-right: auto;">
<article>
<a href="/znai/introduction/what-is-this/">What Is This</a>
</article>

<article>
<a href="/znai/introduction/getting-started/">Getting Started</a>
</article>

<article>
<a href="/znai/flow/structure/">Structure</a>
</article>

<article>
<a href="/znai/flow/landing/">Landing</a>
</article>

<article>
<a href="/znai/flow/names/">Page Titles</a>
</article>

<article>
<a href="/znai/flow/page-references/">Page References</a>
</article>

<article>
<a href="/znai/flow/page-toc/">Page Toc</a>
</article>

<article>
<a href="/znai/flow/lookup-paths/">Lookup Paths</a>
</article>

<article>
<a href="/znai/flow/search/">Search</a>
</article>

<article>
<a href="/znai/flow/footer/">Footer</a>
</article>

<article>
<a href="/znai/flow/support/">Support</a>
</article>

<article>
<a href="/znai/flow/footnotes/">Footnotes</a>
</article>

<article>
<a href="/znai/flow/presentation/">Presentation</a>
</article>

<article>
<a href="/znai/flow/testing-is-documenting/">Testing Is Documenting</a>
</article>

<article>
<a href="/znai/flow/shortcuts/">Shortcuts</a>
</article>

<article>
<a href="/znai/snippets/code-snippets/">Code Snippets</a>
</article>

<article>
<a href="/znai/snippets/external-code-snippets/">External Code Snippets</a>
</article>

<article>
<a href="/znai/snippets/snippets-manipulation/">Snippets Manipulation</a>
</article>

<article>
<a href="/znai/snippets/snippets-highlighting/">Snippets Highlighting</a>
</article>

<article>
<a href="/znai/snippets/code-comments/">Code Comments</a>
</article>

<article>
<a href="/znai/snippets/inlined-code-snippets/">Inlined Code Snippets</a>
</article>

<article>
<a href="/znai/snippets/api-parameters/">API Parameters</a>
</article>

<article>
<a href="/znai/snippets/code-references/">Code References</a>
</article>

<article>
<a href="/znai/snippets/json/">Json</a>
</article>

<article>
<a href="/znai/snippets/xml/">Xml</a>
</article>

<article>
<a href="/znai/snippets/open-API/">Open API</a>
</article>

<article>
<a href="/znai/snippets/CLI/">CLI</a>
</article>

<article>
<a href="/znai/snippets/math/">Math</a>
</article>

<article>
<a href="/znai/snippets/jupyter-notebook/">Jupyter Notebook</a>
</article>

<article>
<a href="/znai/snippets/cpp/">Cpp</a>
</article>

<article>
<a href="/znai/snippets/python/">Python</a>
</article>

<article>
<a href="/znai/snippets/java/">Java</a>
</article>

<article>
<a href="/znai/snippets/groovy/">Groovy</a>
</article>

<article>
<a href="/znai/snippets/markdown/">Markdown</a>
</article>

<article>
<a href="/znai/visuals/attention-signs/">Attention Signs</a>
</article>

<article>
<a href="/znai/visuals/images/">Images</a>
</article>

<article>
<a href="/znai/visuals/image-annotations/">Image Annotations</a>
</article>

<article>
<a href="/znai/visuals/cards/">Cards</a>
</article>

<article>
<a href="/znai/visuals/charts/">Charts</a>
</article>

<article>
<a href="/znai/visuals/mermaid-diagrams/">Mermaid Diagrams</a>
</article>

<article>
<a href="/znai/visuals/SVG/">SVG</a>
</article>

<article>
<a href="/znai/visuals/icons/">Icons</a>
</article>

<article>
<a href="/znai/visuals/headings/">Headings</a>
</article>

<article>
<a href="/znai/visuals/text-badge/">Text Badge</a>
</article>

<article>
<a href="/znai/visuals/read-more/">Read More</a>
</article>

<article>
<a href="/znai/visuals/spoilers/">Spoilers</a>
</article>

<article>
<a href="/znai/visuals/keyboard-shortcuts/">Keyboard Shortcuts</a>
</article>

<article>
<a href="/znai/visuals/smart-bullet-points/">Smart Bullet Points</a>
</article>

<article>
<a href="/znai/visuals/flow-diagrams/">Flow Diagrams</a>
</article>

<article>
<a href="/znai/visuals/graphviz-diagrams/">Graphviz Diagrams</a>
</article>

<article>
<a href="/znai/visuals/PlantUml/">PlantUml</a>
</article>

<article>
<a href="/znai/visuals/iframe/">Iframe</a>
</article>

<article>
<a href="/znai/visuals/asciinema/">Asciinema</a>
</article>

<article>
<a href="/znai/layout/tabs/">Tabs</a>
</article>

<article>
<a href="/znai/layout/tables/">Tables</a>
</article>

<article>
<a href="/znai/layout/columns/">Columns</a>
</article>

<article>
<a href="/znai/layout/templates/">Templates</a>
</article>

<article>
<a href="/znai/layout/two-sides-pages/">Two Sides Pages</a>
</article>

<article>
<a href="/znai/layout/two-sides-tabs/">Two Sides Tabs</a>
</article>

<article>
<a href="/znai/layout/jupyter-notebook-two-sides/">Jupyter Notebook Two Sides</a>
</article>

<article>
<a href="/znai/python/content-extraction/">Content Extraction</a>
</article>

<article>
<a href="/znai/python/description-extraction/">Description Extraction</a>
</article>

<article>
<a href="/znai/python/auto-reference/">Auto Reference</a>
</article>

<article>
<a href="/znai/CPP/doxygen-setup/">Doxygen Setup</a>
</article>

<article>
<a href="/znai/CPP/description-extraction/">Description Extraction</a>
</article>

<article>
<a href="/znai/CPP/auto-reference/">Auto Reference</a>
</article>

<article>
<a href="/znai/java/content-extraction/">Content Extraction</a>
</article>

<article>
<a href="/znai/java/description-extraction/">Description Extraction</a>
</article>

<article>
<a href="/znai/java/auto-reference/">Auto Reference</a>
</article>

<article>
<a href="/znai/synergy-with-testing/web-UI/">Web UI</a>
</article>

<article>
<a href="/znai/synergy-with-testing/REST-API/">REST API</a>
</article>

<article>
<a href="/znai/synergy-with-testing/business-logic/">Business Logic</a>
</article>

<article>
<a href="/znai/plugins/plugin-types/">Plugin Types</a>
</article>

<article>
<a href="/znai/plugins/default-parameters/">Default Parameters</a>
</article>

<article>
<a href="/znai/plugins/development/">Development</a>
</article>

<article>
<a href="/znai/configuration/basic/">Basic</a>
</article>

<article>
<a href="/znai/configuration/styling/">Styling</a>
</article>

<article>
<a href="/znai/configuration/top-header/">Top Header</a>
</article>

<article>
<a href="/znai/deployment/additional-files/">Additional Files</a>
</article>

<article>
<a href="/znai/hub/introduction/">Introduction</a>
</article>

<article>
<a href="/znai/hub/setup/">Setup</a>
</article>

<article>
<a href="/znai/hub/build-artifacts-watch/">Build Artifacts Watch</a>
</article>

<article>
<a href="/znai/example-references/domain/">Domain</a>
</article>

<article>
<a href="/znai/example-references/api/">Api</a>
</article>

<article>
<a href="/znai/znai-development/local-build/">Local Build</a>
</article>

<article>
<a href="/znai/release-notes/2025/">2024 Releases</a>
</article>

<article>
<a href="/znai/release-notes/2024/">2024 Releases</a>
</article>

<article>
<a href="/znai/release-notes/2023/">2023 Releases</a>
</article>

<article>
<a href="/znai/release-notes/2022/">2022 Releases</a>
</article>

<article>
<a href="/znai/release-notes/2021/">2021 Releases</a>
</article>
</section>
</div>
<!--test extension added comment-->
<script type="text/javascript" src="/znai/footer.js"></script>
<script type="text/javascript" src="/znai/toc.js"></script>
<script type="text/javascript" src="/znai/documentation-references.js"></script>
<script type="text/javascript" src="/znai/assets.js"></script>
<script type="module" src="/znai/static/main.js"></script>
<script type="text/javascript" src="/znai/custom.js"></script>
<script type="module" src="/znai/search-index.js"></script>
<script type="module">
document.getElementById('znai').innerHTML = '';
/*<!--*/
window.ReactDOM.render(React.createElement(Documentation, {
  "docMeta" : {
    "hidePresentationTrigger" : false,
    "viewOn" : {
      "link" : "https://github.com/testingisdocumenting/znai/blob/master/znai-docs/znai",
      "title" : "View Markdown"
    },
    "description" : "Build functional, maintainable, beautiful User Guides with markdown and Znai plugins. Instant pages navigation. Local search. Multiple integrations to work with Python, Java, C++, OpenAPI, etc. Transform \"getting started\" sections into slideshow for your workshops. Manage multiple documentations with self-deployed znai hub.",
    "id" : "znai",
    "title" : "Znai",
    "type" : "User Guide",
    "category" : "Documentation",
    "previewEnabled" : false,
    "support" : {
      "link" : "https://github.com/testingisdocumenting/znai/discussions",
      "title" : "GitHub"
    }
  },
  "page" : {
    "type" : "Page",
    "content" : [ {
      "id" : "re-usable-patterns",
      "additionalIds" : [ ],
      "title" : "Re-usable patterns",
      "type" : "Section",
      "content" : [ {
        "type" : "Paragraph",
        "content" : [ {
          "text" : "Let's consider a chat REST API example where we want to display a sample input, example code snippet, and sample output.",
          "type" : "SimpleText"
        }, {
          "type" : "SoftLineBreak"
        }, {
          "text" : "Here how documentation may look like.",
          "type" : "SimpleText"
        } ]
      }, {
        "type" : "Paragraph",
        "content" : [ {
          "text" : "Use ",
          "type" : "SimpleText"
        }, {
          "code" : "POST",
          "type" : "InlinedCode"
        }, {
          "text" : " ",
          "type" : "SimpleText"
        }, {
          "code" : "/messages",
          "type" : "InlinedCode"
        }, {
          "text" : " to send a new message",
          "type" : "SimpleText"
        } ]
      }, {
        "lang" : "groovy",
        "snippet" : "http.post(\"/messages\", [message: \"Hello all\"]) {\n    id.should == \"mid1\"\n}",
        "title" : "POST messages",
        "entry" : "postMessages",
        "bodyOnly" : true,
        "excludeRegexp" : "http.doc",
        "type" : "Snippet"
      }, {
        "columns" : [ {
          "content" : [ {
            "title" : "POST /messages request",
            "data" : {
              "message" : "Hello all"
            },
            "highlightValues" : [ ],
            "highlightKeys" : [ ],
            "anchorId" : "re-usable-patterns-post-messages-request",
            "type" : "Json"
          } ]
        }, {
          "content" : [ {
            "title" : "POST /messages response",
            "data" : {
              "id" : "mid1",
              "status" : "SUCCESS"
            },
            "highlightValues" : [ "root.id" ],
            "highlightKeys" : [ ],
            "anchorId" : "re-usable-patterns-post-messages-response",
            "type" : "Json"
          } ]
        } ],
        "config" : { },
        "type" : "Columns"
      }, {
        "type" : "Paragraph",
        "content" : [ {
          "text" : "This is the source to render the layout above",
          "type" : "SimpleText"
        } ]
      }, {
        "lang" : "",
        "snippet" : ":include-groovy: org/testingisdocumenting/testing/examples/restapi/WebTauRestAPIGroovyTest.groovy {\n  title: \"POST messages\",\n  entry: \"postMessages\",\n  bodyOnly: true,\n  excludeRegexp: \"http.doc\"\n}\n\n```columns\nleft:\n:include-json: chat-post-messages/request.json {\n  title: \"POST /messages request\"\n}\n  \nright:\n:include-json: chat-post-messages/response.json {\n  title: \"POST /messages response\",\n  highlightValueFile: \"chat-post-messages/paths.json\"\n}\n```",
        "lineNumber" : "",
        "type" : "Snippet"
      }, {
        "type" : "Paragraph",
        "content" : [ {
          "text" : "Note: request and response were automatically captured using ",
          "type" : "SimpleText"
        }, {
          "url" : "/znai/synergy-with-testing/REST-API",
          "isFile" : false,
          "type" : "Link",
          "content" : [ {
            "text" : "WebTau",
            "type" : "SimpleText"
          } ]
        }, {
          "text" : " testing framework.",
          "type" : "SimpleText"
        } ]
      }, {
        "type" : "Paragraph",
        "content" : [ {
          "text" : "We need to document other methods as well, and as you can imagine, the repetition will take place.",
          "type" : "SimpleText"
        } ]
      } ]
    }, {
      "id" : "extract-a-pattern",
      "additionalIds" : [ ],
      "title" : "Extract A Pattern",
      "type" : "Section",
      "content" : [ {
        "type" : "Paragraph",
        "content" : [ {
          "text" : "Let's move a block we plan to repeat into a separate file and replace hardcoding of entries like ",
          "type" : "SimpleText"
        }, {
          "type" : "StrongEmphasis",
          "content" : [ {
            "text" : "post",
            "type" : "SimpleText"
          } ]
        }, {
          "text" : " with placeholders.",
          "type" : "SimpleText"
        }, {
          "type" : "SoftLineBreak"
        }, {
          "text" : "Znai uses the ",
          "type" : "SimpleText"
        }, {
          "url" : "https://freemarker.apache.org",
          "isFile" : false,
          "type" : "Link",
          "content" : [ {
            "text" : "FreeMarker",
            "type" : "SimpleText"
          } ]
        }, {
          "text" : " template engine.",
          "type" : "SimpleText"
        } ]
      }, {
        "lang" : "md",
        "snippet" : ":include-groovy: org/testingisdocumenting/testing/examples/restapi/WebTauRestAPIGroovyTest.groovy {\n  title: \"${method?upper_case} messages\",\n  entry: \"${method}Messages\",\n  bodyOnly: true,\n  excludeRegexp: \"http.doc\"\n}\n\n```columns\nleft:\n:include-json: chat-${method}-messages/request.json {\n  title: \"${method?upper_case} /messages request\"\n}\n  \nright:\n:include-json: chat-${method}-messages/response.json {\n  title: \"${method?upper_case} /messages response\",\n  highlightValueFile: \"chat-post-messages/paths.json\"\n}\n```",
        "autoTitle" : true,
        "title" : "templates/messages-http-call.md",
        "anchorId" : "extract-a-pattern-templates-messages-http-callmd",
        "type" : "Snippet"
      } ]
    }, {
      "id" : "use-a-pattern",
      "additionalIds" : [ ],
      "title" : "Use A Pattern",
      "type" : "Section",
      "content" : [ {
        "lang" : "",
        "snippet" : ":include-template: templates/messages-http-call.md {method: \"put\"}",
        "lineNumber" : "",
        "type" : "Snippet"
      }, {
        "lang" : "groovy",
        "snippet" : "http.post(\"/messages/mid1\", [message: \"Hello all!\"]) {\n    status.should == \"SUCCESS\"\n}",
        "title" : "PUT messages",
        "entry" : "putMessages",
        "bodyOnly" : true,
        "excludeRegexp" : "http.doc",
        "type" : "Snippet"
      }, {
        "columns" : [ {
          "content" : [ {
            "title" : "PUT /messages request",
            "data" : {
              "message" : "Hello all!"
            },
            "highlightValues" : [ ],
            "highlightKeys" : [ ],
            "anchorId" : "use-a-pattern-put-messages-request",
            "type" : "Json"
          } ]
        }, {
          "content" : [ {
            "title" : "PUT /messages response",
            "data" : {
              "id" : "mid1",
              "status" : "SUCCESS"
            },
            "highlightValues" : [ "root.id" ],
            "highlightKeys" : [ ],
            "anchorId" : "use-a-pattern-put-messages-response",
            "type" : "Json"
          } ]
        } ],
        "config" : { },
        "type" : "Columns"
      } ]
    } ],
    "lastModifiedTime" : 1747705624250,
    "tocItem" : {
      "chapterTitle" : "Layout",
      "pageTitle" : "Templates",
      "pageMeta" : { },
      "dirName" : "layout",
      "fileName" : "templates",
      "fileExtension" : "md",
      "viewOnRelativePath" : null,
      "pageSectionIdTitles" : [ {
        "title" : "Re-usable patterns",
        "id" : "re-usable-patterns",
        "customAnchorId" : "re-usable-patterns"
      }, {
        "title" : "Extract A Pattern",
        "id" : "extract-a-pattern",
        "customAnchorId" : "extract-a-pattern"
      }, {
        "title" : "Use A Pattern",
        "id" : "use-a-pattern",
        "customAnchorId" : "use-a-pattern"
      } ]
    }
  }
}), document.getElementById("znai"));
/*-->*/

</script>

</body>
</html>
